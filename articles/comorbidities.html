<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comorbidities • medicalcoder</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Comorbidities">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">medicalcoder</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/charlson.html">Charlson Comorbidities</a>
    </li>
    <li>
      <a href="../articles/comorbidities.html">Comorbidities</a>
    </li>
    <li>
      <a href="../articles/elixhauser.html">Elixhauser Comorbidities</a>
    </li>
    <li>
      <a href="../articles/icd.html">ICD Codes</a>
    </li>
    <li>
      <a href="../articles/pccc.html">Pediatric Complex Chronic Conditions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><script src="comorbidities_files/kePrint-0.0.1/kePrint.js"></script><link href="comorbidities_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Comorbidities</h1>
            
      

      <div class="hidden name"><code>comorbidities.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">medicalcoder</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"medicalcoder"</span><span class="op">)</span></span>
<span><span class="co">## [1] '0.6.0'</span></span></code></pre></div>
<div class="section level2">
<h2 id="comorbidity-algorithms">Comorbidity Algorithms<a class="anchor" aria-label="anchor" href="#comorbidity-algorithms"></a>
</h2>
<p>There are three comorbidity algorithms, each with several variants,
implemented in the <code>medicalcoder</code> package:</p>
<ol style="list-style-type: decimal">
<li>Pediatric Complex Chronic Condition System (PCCC)
<ol style="list-style-type: lower-alpha">
<li>Version 2.0 <span class="citation">(Feudtner et al. 2014)</span>
<ol style="list-style-type: lower-roman">
<li>
<code>pccc_v2.0</code> is consistent with the older R package pccc
(v1.0.6) <span class="citation">(DeWitt, Feinstein, and Russell
2025)</span>.</li>
<li>
<code>pccc_v2.1</code> modifies the set of ICD codes to be more
consistent with documentation and other implementations of v2.0.</li>
</ol>
</li>
<li>Version 3.0 <span class="citation">(Feinstein et al. 2024)</span>
<ol style="list-style-type: lower-roman">
<li>
<code>pccc_v3.0</code> is consistent with the SAS software published
on the <a href="https://www.childrenshospitals.org/content/analytics/toolkit/complex-chronic-conditions" class="external-link">Children’s
Hospital Association</a> website in conjunction with <span class="citation">Feinstein et al. (2024)</span>.</li>
<li>
<code>pccc_v3.1</code> modifies the set of ICD codes to be more
consistent with documentation.</li>
</ol>
</li>
</ol>
</li>
<li>Charlson
<ol style="list-style-type: lower-alpha">
<li>
<code>charslon_deyo1992</code>: Deyo’s original set of codes <span class="citation">(Deyo, Cherkin, and Ciol 1992; Quan et al.
2005)</span>
</li>
<li>
<code>charlson_quan2005</code> and <code>charlson_quan2011</code>:
Codes and index scoring <span class="citation">(Quan et al. 2005,
2011)</span>
</li>
<li>
<code>charlson_cdmf2019</code>: <span class="citation">(Glasheen et
al. 2019)</span>
</li>
</ol>
</li>
<li>Elixhauser
<ol style="list-style-type: lower-alpha">
<li>Based on codes provided by the Agency for Healthcare Research and
Quality (AHRQ) for fiscal years 2022 through 2025 <span class="citation">(Healthcare Research and (AHRQ) 2025)</span>
<ol style="list-style-type: lower-roman">
<li><code>elixhauser_ahrq2022</code></li>
<li><code>elixhauser_ahrq2023</code></li>
<li><code>elixhauser_ahrq2024</code></li>
<li><code>elixhauser_ahrq2025</code></li>
</ol>
</li>
<li>Codes from Table 2 of <span class="citation">Quan et al.
(2005)</span>
<ol style="list-style-type: lower-roman">
<li>
<code>elixhauser_elixhauser1988</code>: <span class="citation">(Elixhauser et al. 1998; Quan et al. 2005)</span>
</li>
<li>
<code>elixhauser_ahrq_web</code>: <span class="citation">(Quan et
al. 2005; Cost and (HCUP) 2017)</span>
</li>
<li>
<code>elixhauser_quan2005</code>: <span class="citation">(Quan et
al. 2005)</span>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<p><strong>IMPORTANT NOTE:</strong> Elixhauser 1998 and AHRQ Web used
diagnostic related group (DRG) codes as part of the methods. The
<code>medicalcoder</code> package <em>does not</em> use DRG codes. This
is consistent with the way these methods were implemented in <span class="citation">Quan et al. (2005)</span>.</p>
<p>A list of the valid methods for the package can be accessed via a
non-exported function. In general, the methods are listed in the form of
<code>&lt;algorithm&gt;_&lt;version&gt;</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">medicalcoder</span><span class="fu">:::</span><span class="fu">comorbidities_methods</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">##  [1] "pccc_v2.0"                 "pccc_v2.1"                </span></span>
<span><span class="co">##  [3] "pccc_v3.0"                 "pccc_v3.1"                </span></span>
<span><span class="co">##  [5] "charlson_deyo1992"         "charlson_quan2011"        </span></span>
<span><span class="co">##  [7] "charlson_quan2005"         "charlson_cdmf2019"        </span></span>
<span><span class="co">##  [9] "elixhauser_elixhauser1988" "elixhauser_ahrq_web"      </span></span>
<span><span class="co">## [11] "elixhauser_quan2005"       "elixhauser_ahrq2022"      </span></span>
<span><span class="co">## [13] "elixhauser_ahrq2023"       "elixhauser_ahrq2024"      </span></span>
<span><span class="co">## [15] "elixhauser_ahrq2025"</span></span></code></pre></div>
<p>Vignettes for each of the major methods are available.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span>topic <span class="op">=</span> <span class="st">"pccc"</span>, package <span class="op">=</span> <span class="st">"medicalcoder"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span>topic <span class="op">=</span> <span class="st">"charlson"</span>, package <span class="op">=</span> <span class="st">"medicalcoder"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span>topic <span class="op">=</span> <span class="st">"elixhauser"</span>, package <span class="op">=</span> <span class="st">"medicalcoder"</span><span class="op">)</span></span></code></pre></div>
<p>The focus of this vignette is to highlight the general use of the
<code>comorbidities</code> function.</p>
<p>Details of the function arguments call are in the manual.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span>topic <span class="op">=</span> <span class="st">"comorbidities"</span>, package <span class="op">=</span> <span class="st">"medicalcoder"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/args.html" class="external-link">args</a></span><span class="op">(</span><span class="va">comorbidities</span><span class="op">)</span></span>
<span><span class="co">## function (data, icd.codes, method, id.vars = NULL, icdv.var = NULL, </span></span>
<span><span class="co">##     icdv = NULL, dx.var = NULL, dx = NULL, poa.var = NULL, poa = NULL, </span></span>
<span><span class="co">##     age.var = NULL, primarydx.var = NULL, primarydx = NULL, flag.method = c("current", </span></span>
<span><span class="co">##         "cumulative"), full.codes = TRUE, compact.codes = TRUE, </span></span>
<span><span class="co">##     subconditions = FALSE) </span></span>
<span><span class="co">## NULL</span></span></code></pre></div>
<p>We highlight a general concept for the arguments. Note that several
arguments are in pairs, e.g., <code>dx.var</code> and <code>dx</code>
(used for denoting if codes are diagnostic or procedural), or
<code>poa.var</code> and <code>poa</code> (used for denoting if a codes
are present on admission). The <code>.var</code> version is the name of
a variable within the <code>data.frame</code> passed into the
<code>data</code> argument. The version without <code>.var</code> is a
default value to be applied to the entirety of <code>data</code>. We
will see some examples where this is useful.</p>
<p>The <code>data</code> element is expected to be a
<code>data.frame</code>, or at least something that inherits the
<code>data.frame</code> class. The format is expected to be a ‘long’
format. One row per code. Two example data sets in the package show the
general expected form of the <code>data</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mdcr</span><span class="op">)</span></span>
<span><span class="co">##   patid icdv  code dx</span></span>
<span><span class="co">## 1 71412    9 99931  1</span></span>
<span><span class="co">## 2 71412    9 75169  1</span></span>
<span><span class="co">## 3 71412    9 99591  1</span></span>
<span><span class="co">## 4 71412    9 V5865  1</span></span>
<span><span class="co">## 5 71412    9  V427  1</span></span>
<span><span class="co">## 6 17087   10  V441  1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mdcr_longitudinal</span><span class="op">)</span></span>
<span><span class="co">##     patid       date icdv     code</span></span>
<span><span class="co">## 1 9663901 2016-03-18   10   Z77.22</span></span>
<span><span class="co">## 2 9663901 2016-03-24   10  IMO0002</span></span>
<span><span class="co">## 3 9663901 2016-03-24   10 V87.7XXA</span></span>
<span><span class="co">## 4 9663901 2016-03-25   10  J95.851</span></span>
<span><span class="co">## 5 9663901 2016-03-30   10  IMO0002</span></span>
<span><span class="co">## 6 9663901 2016-03-30   10    Z93.0</span></span></code></pre></div>
<p>A great level of detail for each of the comorbidity algorithms are
provided in dedicated vignettes:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"medicalcoder"</span><span class="op">)</span><span class="op">$</span><span class="va">results</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="when-are-conditions-flag">When are conditions flag?<a class="anchor" aria-label="anchor" href="#when-are-conditions-flag"></a>
</h2>
<p>Whether or not the code is present on admission (POA) is useful when
applying the comorbidity algorithms and considering if the patient has a
comorbidity at time of encounter start of if the condition is a result
of the current hospitalization.</p>
<p>Implementation of Elixhauser comorbidities for 2022 and beyond <span class="citation">(Healthcare Research and (AHRQ) 2025)</span> explicitly
define the use of present on admission flags for specific conditions
(see the <code>poa_required</code> flag reported in the data set
returned by <code>get_elixhauser_poa</code>).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_elixhauser_poa.html">get_elixhauser_poa</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## 'data.frame':    43 obs. of  7 variables:</span></span>
<span><span class="co">##  $ condition          : chr  "AIDS" "ALCOHOL" "ANEMDEF" "ANEMDEF" ...</span></span>
<span><span class="co">##  $ desc               : chr  "Acquired immune deficiency syndrome" "Alcohol abuse" "Anemias due to other nutritional deficiencies" "Deficiency anemias" ...</span></span>
<span><span class="co">##  $ poa_required       : int  0 0 1 1 0 1 1 0 0 0 ...</span></span>
<span><span class="co">##  $ elixhauser_ahrq2022: int  1 1 NA 1 1 NA 1 1 1 1 ...</span></span>
<span><span class="co">##  $ elixhauser_ahrq2023: int  1 1 1 NA 1 1 NA 1 1 1 ...</span></span>
<span><span class="co">##  $ elixhauser_ahrq2024: int  1 1 1 NA 1 1 NA 1 1 1 ...</span></span>
<span><span class="co">##  $ elixhauser_ahrq2025: int  1 1 1 NA 1 1 NA 1 1 1 ...</span></span></code></pre></div>
<p>For Charlson comorbidities, from <span class="citation">Quan et al.
(2011)</span>:</p>
<blockquote>
<p>We defined comorbidities in the previous admissions using major and
secondary diagnoses, without consideration of diagnosis type. The
presence of a comorbid condition was assigned to a patient when it was
present in index or previous admission records. Otherwise, the absence
of the condition was assigned to the patient.</p>
</blockquote>
<p>From <span class="citation">Quan et al. (2005)</span>:</p>
<blockquote>
<p>The decision of whether to include or exclude specific codes or
conditions from a coding algorithm depends to a large extent on a given
study’s objectives. The original Charlson index used conditions present
in hospitalized medical patients (regardless of whether the condition
was present at baseline or arose after admission) to predict survival
over an ensuing year. For such a study, a decision to exclude conditions
arising after admission would not be ideal, as it would result in a loss
of prognostic information relevant to long-term survival, and an
‘under-adjustment’ in risk-adjusted survival analyses. In contrast, in
the context of studying in-hospital outcomes of a surgical procedure,
researchers would be best advised to confine their risk adjustment to
variables that are predominantly present at baseline. In jurisdictions
that have diagnosis type indicators, the methodological decision is
simply one of deciding, based on study objectives, whether to use or not
use the indicators. In regions or countries without diagnosis type
indicators, meanwhile, the data that we present … can help researchers
make decisions on a condition-by-condition basis of whether to include
particular variables, depending on their study objectives.</p>
</blockquote>
<p>PCCC does not explicitly note the if POA is required.</p>
<p><code>medicalcoder</code> has been built to consider POA for all
comorbidity algorithms.</p>
<p>End users can use a 0/1 indicator variable in the data set to report
which codes are POA via the function argument <code>poa.var</code>. If
all the codes are to be considered POA or not, the functional argument
<code>poa</code> can be used to set a common status without adding a
column to the input data set.</p>
<p>Additionally, <code>medicalcoder</code> provides a
<code>flag.method</code> argument for longitudinal data sets.</p>
<p><strong>Example:</strong> Let’s assume we have a patient record for
six encounters. We use ICD-10 diagnostic codes C78.4 and I50.40 which
maps to a cancer and heart failure (cardiovascular disease) comorbidity
respectively for PCCC, Charlson, and Elixhauser. For demonstration, we
also flag POA with the second report of I50.40 intentionally marked as
not present on admission.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/lookup_icd_codes.html">lookup_icd_codes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C78.4"</span>, <span class="st">"I50.40"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">##   input_code match_type icdv dx full_code  code src known_start known_end</span></span>
<span><span class="co">## 1      C78.4  full_code   10  1     C78.4  C784 cms        2014      2026</span></span>
<span><span class="co">## 2      C78.4  full_code   10  1     C78.4  C784 cdc        2001      2025</span></span>
<span><span class="co">## 3      C78.4  full_code   10  1     C78.4  C784 who        2008      2019</span></span>
<span><span class="co">## 4     I50.40  full_code   10  1    I50.40 I5040 cms        2014      2026</span></span>
<span><span class="co">##   assignable_start assignable_end</span></span>
<span><span class="co">## 1             2014           2026</span></span>
<span><span class="co">## 2             2001           2025</span></span>
<span><span class="co">## 3             2008           2019</span></span>
<span><span class="co">## 4             2014           2026</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_pccc_codes.html">get_pccc_codes</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>       subset <span class="op">=</span> <span class="va">full_code</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C78.4"</span>, <span class="st">"I50.40"</span><span class="op">)</span>,</span>
<span>       select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"icdv"</span>, <span class="st">"dx"</span>, <span class="st">"code"</span>, <span class="st">"full_code"</span>, <span class="st">"condition"</span>, <span class="st">"pccc_v3.0"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">##      icdv dx  code full_code  condition pccc_v3.0</span></span>
<span><span class="co">## 4523   10  1  C784     C78.4 malignancy         1</span></span>
<span><span class="co">## 6570   10  1 I5040    I50.40        cvd         1</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_charlson_codes.html">get_charlson_codes</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>       subset <span class="op">=</span> <span class="va">full_code</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C78.4"</span>, <span class="st">"I50.40"</span><span class="op">)</span>,</span>
<span>       select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"icdv"</span>, <span class="st">"dx"</span>, <span class="st">"code"</span>, <span class="st">"full_code"</span>, <span class="st">"condition"</span>, <span class="st">"charlson_quan2011"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">##      icdv dx  code full_code condition charlson_quan2011</span></span>
<span><span class="co">## 3500   10  1  C784     C78.4       mst                 1</span></span>
<span><span class="co">## 5776   10  1 I5040    I50.40       chf                 1</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_elixhauser_codes.html">get_elixhauser_codes</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>       subset <span class="op">=</span> <span class="va">full_code</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C78.4"</span>, <span class="st">"I50.40"</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">elixhauser_ahrq2025</span> <span class="op">==</span> <span class="fl">1L</span>,</span>
<span>       select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"icdv"</span>, <span class="st">"dx"</span>, <span class="st">"code"</span>, <span class="st">"full_code"</span>, <span class="st">"condition"</span>, <span class="st">"elixhauser_ahrq2025"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">##      icdv dx  code full_code   condition elixhauser_ahrq2025</span></span>
<span><span class="co">## 3394   10  1  C784     C78.4 CANCER_METS                   1</span></span>
<span><span class="co">## 7647   10  1 I5040    I50.40          HF                   1</span></span>
<span></span>
<span><span class="va">record</span> <span class="op">&lt;-</span></span>
<span><span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"</span></span>
<span><span class="st">patid | encid | code   | poa</span></span>
<span><span class="st">A     | 1     | NA     | NA</span></span>
<span><span class="st">A     | 2     | C78.4  | 0</span></span>
<span><span class="st">A     | 3     | I50.40 | 1</span></span>
<span><span class="st">A     | 4     | NA     | NA</span></span>
<span><span class="st">A     | 5     | C78.4  | 1</span></span>
<span><span class="st">A     | 5     | I50.40 | 0</span></span>
<span><span class="st">A     | 6     | NA     | NA</span></span>
<span><span class="st">"</span><span class="op">)</span></span></code></pre></div>
<p>We will call <code>comorbidities</code> for the three methods using
static POA flags and dynamic POA flags, and both flag methods.</p>
<table style="NAborder-bottom: 0;" class="table">
<caption>
Indicators for when a comorbidity is flagged based on the algorithm,
present on admission (poa), and flag.method. The two ICD codes,C78.4 and
I50.40, map to cancer and cardiovascular disease respectively.
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="2">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="6">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
POA = 0
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="6">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
POA = 1
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="6">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
poa.var = ‘poa’
</div>
</th>
</tr>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="2">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
PCCC
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Charlson
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Elixhauser
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
PCCC
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Charlson
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Elixhauser
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
PCCC
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Charlson
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Elixhauser
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
encid
</th>
<th style="text-align:left;">
ICD
</th>
<th style="text-align:right;">
CVD
</th>
<th style="text-align:right;">
CANCER
</th>
<th style="text-align:right;">
CVD
</th>
<th style="text-align:right;">
CANCER
</th>
<th style="text-align:right;">
CVD
</th>
<th style="text-align:right;">
CANCER
</th>
<th style="text-align:right;">
CVD
</th>
<th style="text-align:right;">
CANCER
</th>
<th style="text-align:right;">
CVD
</th>
<th style="text-align:right;">
CANCER
</th>
<th style="text-align:right;">
CVD
</th>
<th style="text-align:right;">
CANCER
</th>
<th style="text-align:right;">
CVD
</th>
<th style="text-align:right;">
CANCER
</th>
<th style="text-align:right;">
CVD
</th>
<th style="text-align:right;">
CANCER
</th>
<th style="text-align:right;">
CVD
</th>
<th style="text-align:right;">
CANCER
</th>
</tr>
</thead>
<tbody>
<tr grouplength="6">
<td colspan="20" style="border-bottom: 1px solid;">
<strong>flag.method = ‘current’</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:left;">
C78.4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
3
</td>
<td style="text-align:left;">
I50.40<sup>*</sup>
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
4
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
5
</td>
<td style="text-align:left;">
C78.4<sup>*</sup>; I50.40
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
6
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr grouplength="6">
<td colspan="20" style="border-bottom: 1px solid;">
<strong>flag.method = ‘cumulative’</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:left;">
C78.4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
3
</td>
<td style="text-align:left;">
I50.40<sup>*</sup>
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
4
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
5
</td>
<td style="text-align:left;">
C78.4<sup>*</sup>; I50.40
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
6
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span>
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup> C78.4 does not need to be POA to count for Elixhauser.
I50.40 does need to be POA to count for Elixhauser.
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup>*</sup> Present on Admission
</td>
</tr>
</tfoot>
</table>
</div>
<div class="section level2">
<h2 id="mapping-icd-codes-to-comorbidities">Mapping ICD Codes to Comorbidities<a class="anchor" aria-label="anchor" href="#mapping-icd-codes-to-comorbidities"></a>
</h2>
<p>End users can quickly assess the lookup table for all the ICD codes
associated with a comorbidity algorithm using the
<code>get_&lt;comorbidity&gt;_codes</code> functions. Each
<code>data.frame</code> has columns for the ICD version, diagnostic or
procedure flag, the compact code, and the full code. A column for the
condition and other method specific flags are provided. Lastly, there
are indicator columns for the variant of each method</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_pccc_codes.html">get_pccc_codes</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## 'data.frame':    7913 obs. of  12 variables:</span></span>
<span><span class="co">##  $ icdv           : int  9 9 9 9 9 9 9 9 9 9 ...</span></span>
<span><span class="co">##  $ dx             : int  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ full_code      : chr  "00.10" "00.50" "00.51" "00.53" ...</span></span>
<span><span class="co">##  $ code           : chr  "0010" "0050" "0051" "0053" ...</span></span>
<span><span class="co">##  $ condition      : chr  "malignancy" "cvd" "cvd" "cvd" ...</span></span>
<span><span class="co">##  $ subcondition   : chr  "neoplasms" "device_and_technology_use" "device_and_technology_use" "device_and_technology_use" ...</span></span>
<span><span class="co">##  $ transplant_flag: int  0 0 0 0 0 0 0 1 1 1 ...</span></span>
<span><span class="co">##  $ tech_dep_flag  : int  0 1 1 1 1 1 1 0 0 0 ...</span></span>
<span><span class="co">##  $ pccc_v3.1      : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##  $ pccc_v3.0      : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##  $ pccc_v2.1      : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##  $ pccc_v2.0      : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_charlson_codes.html">get_charlson_codes</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## 'data.frame':    7410 obs. of  9 variables:</span></span>
<span><span class="co">##  $ icdv             : int  9 9 9 9 9 9 9 9 9 9 ...</span></span>
<span><span class="co">##  $ dx               : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##  $ full_code        : chr  "003.1" "007.2" "007.4" "010" ...</span></span>
<span><span class="co">##  $ code             : chr  "0031" "0072" "0074" "010" ...</span></span>
<span><span class="co">##  $ condition        : chr  "aids" "aids" "aids" "aids" ...</span></span>
<span><span class="co">##  $ charlson_cdmf2019: int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##  $ charlson_deyo1992: int  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ charlson_quan2005: int  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ charlson_quan2011: int  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_elixhauser_codes.html">get_elixhauser_codes</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## 'data.frame':    10679 obs. of  12 variables:</span></span>
<span><span class="co">##  $ icdv                     : int  9 9 9 9 9 9 9 9 9 9 ...</span></span>
<span><span class="co">##  $ dx                       : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##  $ full_code                : chr  "042" "070.22" "070.23" "070.32" ...</span></span>
<span><span class="co">##  $ code                     : chr  "042" "07022" "07023" "07032" ...</span></span>
<span><span class="co">##  $ condition                : chr  "AIDS" "LIVER" "LIVER" "LIVER" ...</span></span>
<span><span class="co">##  $ elixhauser_ahrq_web      : int  1 1 1 1 1 1 1 0 0 0 ...</span></span>
<span><span class="co">##  $ elixhauser_elixhauser1988: int  1 0 0 1 1 0 1 0 0 0 ...</span></span>
<span><span class="co">##  $ elixhauser_quan2005      : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##  $ elixhauser_ahrq2022      : int  NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##  $ elixhauser_ahrq2023      : int  NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##  $ elixhauser_ahrq2024      : int  NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##  $ elixhauser_ahrq2025      : int  NA NA NA NA NA NA NA NA NA NA ...</span></span></code></pre></div>
<p>End users should be aware that just because an ICD code exists in a
data set does not mean that the patient has the condition. For
Elixhauser, the presence on admission is important to consider. For PCCC
version 3.0 and 3.1, tech dependencies on their own are insufficient to
flag a condition (see
<code><a href="../articles/pccc.html">vignette(topic = "pccc", package = "medicalcoder")</a></code>).</p>
<p>For the <code>charlson_cdmf2019</code> method <span class="citation">(Glasheen et al. 2019)</span>, the AIDS categories are
defined by the presence of HIV and an opportunistic infection. In the
following example, if only considering ICD codes which flag ‘aids’,
there would be several thousand cases of AIDS, but only six cases of
HIV.</p>
<!-- NOTE: the following example is also in tests/test-charlson_cdmf2019.R -->
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cdmf_eg</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mdcr</span>,</span>
<span>        y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_charlson_codes.html">get_charlson_codes</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                   <span class="va">condition</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aids"</span>, <span class="st">"hiv"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>                   <span class="va">charlson_cdmf2019</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>        by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"icdv"</span>, <span class="st">"dx"</span>, <span class="st">"code"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setDT.html" class="external-link">setDT</a></span><span class="op">(</span><span class="va">cdmf_eg</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cdmf_eg</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">cdmf_eg</span>,</span>
<span>                    <span class="va">patid</span> <span class="op">~</span> <span class="va">condition</span>,</span>
<span>                    value.var <span class="op">=</span> <span class="st">"charlson_cdmf2019"</span>,</span>
<span>                    fun.aggregate <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cdmf_eg</span><span class="op">[</span>, <span class="va">.N</span>, keyby <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="va">hiv</span>, <span class="va">aids</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">## Key: &lt;hiv, aids&gt;</span></span>
<span><span class="co">##      hiv  aids     N</span></span>
<span><span class="co">##    &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">## 1:     0     1  2716</span></span>
<span><span class="co">## 2:     1     0     6</span></span>
<span><span class="co">## 3:     1     1     1</span></span></code></pre></div>
<p>When calling <code>comorbidities</code> we get the expected
result.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cmdf_mdcr</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/comorbidities.html">comorbidities</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mdcr</span>,</span>
<span>                icd.codes <span class="op">=</span> <span class="st">"code"</span>,</span>
<span>                id.vars <span class="op">=</span> <span class="st">"patid"</span>,</span>
<span>                icdv.var <span class="op">=</span> <span class="st">"icdv"</span>,</span>
<span>                dx.var <span class="op">=</span> <span class="st">"dx"</span>,</span>
<span>                method <span class="op">=</span> <span class="st">"charlson_cdmf2019"</span>,</span>
<span>                flag.method <span class="op">=</span> <span class="st">"current"</span>,</span>
<span>                poa <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setDT.html" class="external-link">setDT</a></span><span class="op">(</span><span class="va">cmdf_mdcr</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cmdf_mdcr</span><span class="op">[</span>, <span class="va">.N</span>, keyby <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="va">hiv</span>, <span class="va">aids</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">## Key: &lt;hiv, aids&gt;</span></span>
<span><span class="co">##      hiv  aids     N</span></span>
<span><span class="co">##    &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">## 1:     0     0 38255</span></span>
<span><span class="co">## 2:     1     0     6</span></span>
<span><span class="co">## 3:     1     1     1</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<!-- ----------------------------------------------------------------------- -->
<!--                              End of File                                -->
<!------------------------------------------------------------------------- -->
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-ahrq2017" class="csl-entry">
Cost, Healthcare, and Utilization Project (HCUP). 2017.
<span>“Elixhauser Comorbidity Software for ICD-9-CM.”</span> <a href="https://hcup-us.ahrq.gov/toolssoftware/comorbidity/comorbidity.jsp" class="external-link uri">https://hcup-us.ahrq.gov/toolssoftware/comorbidity/comorbidity.jsp</a>.
</div>
<div id="ref-dewitt2025pccc" class="csl-entry">
DeWitt, Peter, James Feinstein, and Seth Russell. 2025. <em>Pccc:
Pediatric Complex Chronic Conditions</em>. <a href="https://github.com/CUD2V/pccc" class="external-link">https://github.com/CUD2V/pccc</a>.
</div>
<div id="ref-deyo1992adapting" class="csl-entry">
Deyo, Richard A, Daniel C Cherkin, and Marcia A Ciol. 1992.
<span>“Adapting a Clinical Comorbidity Index for Use with ICD-9-CM
Administrative Databases.”</span> <em>Journal of Clinical
Epidemiology</em> 45 (6): 613–19. https://doi.org/<a href="https://doi.org/10.1016/0895-4356(92)90133-8" class="external-link">https://doi.org/10.1016/0895-4356(92)90133-8</a>.
</div>
<div id="ref-elixhauser1998" class="csl-entry">
Elixhauser, Anne, Claudia Steiner, D Robert Harris, and Rosanna M
Coffey. 1998. <span>“Comorbidity Measures for Use with Administrative
Data.”</span> <em>Medical Care</em> 36 (1): 8–27. <a href="https://doi.org/10.1097/00005650-199801000-00004" class="external-link">https://doi.org/10.1097/00005650-199801000-00004</a>.
</div>
<div id="ref-feinstein2024pediatric" class="csl-entry">
Feinstein, James A, Matt Hall, Amber Davidson, and Chris Feudtner. 2024.
<span>“Pediatric Complex Chronic Condition System Version 3.”</span>
<em>JAMA Network Open</em> 7 (7): e2420579–79. <a href="https://doi.org/10.1001/jamanetworkopen.2024.20579" class="external-link">https://doi.org/10.1001/jamanetworkopen.2024.20579</a>.
</div>
<div id="ref-feudtner2014pediatric" class="csl-entry">
Feudtner, Chris, James A Feinstein, Wenjun Zhong, Matt Hall, and Dingwei
Dai. 2014. <span>“Pediatric Complex Chronic Conditions Classification
System Version 2: Updated for ICD-10 and Complex Medical Technology
Dependence and Transplantation.”</span> <em>BMC Pediatrics</em> 14: 1–7.
<a href="https://doi.org/10.1186/1471-2431-14-199" class="external-link">https://doi.org/10.1186/1471-2431-14-199</a>.
</div>
<div id="ref-glasheen2019" class="csl-entry">
Glasheen, William P, Tristan Cordier, Rajiv Gumpina, Gil Haugh, Jared
Davis, and Andrew Renda. 2019. <span>“Charlson Comorbidity Index: ICD-9
Update and ICD-10 Translation.”</span> <em>American Health &amp; Drug
Benefits</em> 12 (4): 188. <a href="https://pubmed.ncbi.nlm.nih.gov/31428236/" class="external-link">https://pubmed.ncbi.nlm.nih.gov/31428236/</a>.
</div>
<div id="ref-ahrq2025" class="csl-entry">
Healthcare Research, Agency for, and Quality (AHRQ). 2025.
<span>“Elixhauser Comorbidity Software Refined for ICD-10-CM Healthcare
Cost and Utilization Project (HCUP).”</span> <a href="https://hcup-us.ahrq.gov/toolssoftware/comorbidityicd10/comorbidity_icd10.jsp" class="external-link">https://hcup-us.ahrq.gov/toolssoftware/comorbidityicd10/comorbidity_icd10.jsp</a>.
</div>
<div id="ref-quan2011" class="csl-entry">
Quan, Hude, Bo Li, Colette M. Couris, Kiyohide Fushimi, Peter Graham,
Philip Hider, Jean-Michel Januel, and Vijaya Sundararajan. 2011.
<span>“Updating and Validating the Charlson Comorbidity Index and Score
for Risk Adjustment in Hospital Discharge Abstracts Using Data from 6
Countries.”</span> <em>American Journal of Epidemiology</em> 173 (6):
676–82. <a href="https://doi.org/10.1093/aje/kwq433" class="external-link">https://doi.org/10.1093/aje/kwq433</a>.
</div>
<div id="ref-quan2005" class="csl-entry">
Quan, Hude, Vijaya Sundararajan, Patricia Halfon, Andrew Fong, Bernard
Burnand, Jean-Christophe Luthi, L Duncan Saunders, Catherine A. Beck,
Thomas E. Feasby, and William A. Ghali. 2005. <span>“Coding Algorithms
for Defining Comorbidities in ICD-9-CM and ICD-10 Administrative
Data.”</span> <em>Medical Care</em> 43 (11): 1130–39. <a href="https://doi.org/10.1097/01.mlr.0000182534.19832.83" class="external-link">https://doi.org/10.1097/01.mlr.0000182534.19832.83</a>.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Peter DeWitt.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
